<?xml version="1.0" encoding="utf-8" ?> 
<OOMake version="0.1">
					
	<Project Name="OORpc" >
		
		<Option Name="OutputDirectory">../../plugins/${Configuration.Name}</Option>
		<Option Name="Multithreaded" />
		
		<Tool Type="C++Compiler">
			<Option Name="Warnings">max</Option>
			<Option Name="PrecompiledHeader">OORpc.h</Option>
			<Option Name="UseRtti">false</Option>
			
			<Define>CODEBLOCKS</Define>
						
			<Include Directory="../../include" />
			<Include Find="ace/ACE.h" Directory="${Arg.with-ace}" />
		
      <Tool Name="gcc">
        <Option Name="Visibility">hidden</Option>
      </Tool>
    </Tool>
		
		<Tool Type="Linker" >
			<Library Name="ACE" Directory="${Arg.with-ace}/lib" />
				
		  <Tool Name="gcc" >
			  <Choice Of="${Target.Platform}" >
				  <Case Equals="mingw32" >
					  <Library Name="ws2_32" />
					  <Library Name="mswsock" />
					  <Library Name="netapi32" />
				  </Case>
				  <Case Equals="win32" >
					  <Library Name="ws2_32" />
					  <Library Name="mswsock" />
					  <Library Name="netapi32" />
				  </Case>
			  </Choice>
		  </Tool>
    </Tool>
		
    <Group Name="Sources">
			<File Name="HttpChannelServer.cpp" />
			<File Name="HttpEndpoint.cpp" />
			<File Name="HttpMsg.cpp" />
			<File Name="OORpc.cpp" />
		</Group>
		
		<Configuration Name="Release" Type="SharedLibrary" Default="true"> 
			<Option Name="OutputDirectory">../../plugins</Option>

      <Tool Type="CCompiler">
        <Define>NDEBUG</Define>
      </Tool>
      
			<Tool Type="C++Compiler">
				<Option Name="Optimise">max</Option>

        <Define>NDEBUG</Define>
			</Tool>

      <Tool Type="Linker" >
        <Library Name="OOCore" Directory="../../lib" />
      </Tool>

			<Action	Type="Make" Groups="Sources"/>
		</Configuration>

    <Configuration Name="Release_Monolithic" Type="SharedLibrary">

      <Tool Type="CCompiler">
        <Define>NDEBUG</Define>
      </Tool>
      
      <Tool Type="C++Compiler">
        <Option Name="Optimise">max</Option>

        <Define>NDEBUG</Define>
        <Define>ACE_AS_STATIC_LIBS</Define>
      </Tool>

      <Tool Type="Linker" >
        <Library Name="OOCore" Directory="../../lib/${Configuration.Name}" />
     
        <Tool Name="gcc" >
          <Option Name="StaticInputs">true</Option>
        </Tool>
      </Tool>

      <Action	Type="Make" Groups="Sources"/>
    </Configuration>

    <Configuration Name="Debug" Type="SharedLibrary" >
      
      <Tool Type="C++Compiler">
        <Option Name="DebugSymbols">true</Option>

        <Define>OMEGA_DEBUG</Define>
      </Tool>

      <Tool Type="Linker" >
        <Library Name="OOCore" Directory="../../lib/${Configuration.Name}" />
      </Tool>

      <Action	Type="Make" Groups="Sources"/>
    </Configuration>    
  </Project>
</OOMake>
