<?xml version="1.0" encoding="utf-8" ?> 
<OOMake version="0.1">

  <Project Name="TestProcess" Directory="TestProcess" >

    <Option Name="OutputDirectory">../../test/${Configuration.Name}</Option>
    <Option Name="Multithreaded" />

    <Tool Type="C++Compiler">
      <Option Name="Warnings">max</Option>
      <Option Name="UseRtti">false</Option>

      <Include Directory="../../../include" />
    </Tool>

    <Group Name="Sources">
      <File Name="TestProcess.cpp" />
    </Group>

    <Configuration Name="Debug" Type="Program" Default="true">
      <Option Name="OutputDirectory">../../test</Option>

      <Tool Type="C++Compiler">
        <Option Name="DebugSymbols">true</Option>

        <Define>OMEGA_DEBUG</Define>
      </Tool>

      <Tool Type="Linker" >
        <Library Name="OOCore" Directory="../../../lib" />
      </Tool>

      <Action	Type="Make" Groups="Sources"/>
    </Configuration>

  </Project>

  <Project Name="TestLibrary" Directory="TestLibrary" >

    <Option Name="OutputDirectory">../../test/${Configuration.Name}</Option>
    <Option Name="Multithreaded" />

    <Tool Type="C++Compiler">
      <Option Name="Warnings">max</Option>
      <Option Name="UseRtti">false</Option>

      <Define>TEST_BUILD_LIBRARY</Define>
      
      <Include Directory="../../../include" />
      
      <Tool Name="gcc">
        <Option Name="Visibility">hidden</Option>
      </Tool>
    </Tool>

    <Tool Type="Linker" >
      <Library Name="OOCore" Directory="../../../lib" />

      <Tool Name="gcc" >
        <Choice Of="${Target.Platform}" >
          <Case Equals="mingw32" >
            <Option Name="ExportLibrary">true</Option>
          </Case>
          <Case Equals="win32" >
            <Option Name="ExportLibrary">true</Option>
          </Case>
        </Choice>
      </Tool>
    </Tool>

    <Group Name="Sources">
      <File Name="TestLibrary.cpp" />
    </Group>

    <Configuration Name="Debug" Type="SharedLibrary" Default="true">
      <Option Name="OutputDirectory">../../test</Option>

      <Tool Type="C++Compiler">
        <Option Name="DebugSymbols">true</Option>

        <Define>OMEGA_DEBUG</Define>
      </Tool>

      <Tool Type="Linker" >
        <Library Name="OOCore" Directory="../../../lib" />
      </Tool>

      <Action	Type="Make" Groups="Sources"/>
    </Configuration>

  </Project>
					
	<Project Name="CoreTests" >
		
		<Option Name="OutputDirectory">../../test/${Configuration.Name}</Option>
    <Option Name="OutputName">coretests</Option>
		<Option Name="Multithreaded" />
		
		<Tool Type="C++Compiler">
			<Option Name="Warnings">max</Option>
			<Option Name="UseRtti">false</Option>
      			
			<Include Directory="../../include" />
		</Tool>
			
		<Group Name="Sources">
			<File Name="core.cpp" />
			<File Name="interfaces.cpp" />
			<File Name="main.cpp" />
			<File Name="net.cpp" />
      <File Name="registry.cpp" />
      <File Name="strings.cpp" />
		</Group>
		
		<Configuration Name="Debug" Type="Program" Default="true"> 
			<Option Name="OutputDirectory">../../test</Option>

			<Tool Type="C++Compiler">
        <Option Name="DebugSymbols">true</Option>

        <Define>OMEGA_DEBUG</Define>
			</Tool>

      <Tool Type="Linker" >
        <Library Name="OOCore" Directory="../../lib" />
        <Library Name="TestLibrary" Directory="../../test" />
      </Tool>

			<Action	Type="Make" Groups="Sources"/>
		</Configuration>
    
  </Project>
</OOMake>
