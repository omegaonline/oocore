CXX = @CXX@
CXXFLAGS = @CXXFLAGS@
LDFLAGS = @LDFLAGS@
DEFS = @DEFS@

SRC_DIR = @top_srcdir@/tools/OOMake/staged

OOMake : @top_builddir@/bin/OOMake-staged@EXEEXT@

stage1 : 
	@echo Building stage1
	@test -d stage1 || @MKDIR_P@ stage1
	
stage1/OOMake@EXEEXT@ : stage1 stage1/Find.o stage1/gcc.o stage1/Make.o stage1/Main.o stage1/Parse.o stage1/Util.o stage1/Xml.o
	$(CXX) $(LDFLAGS) -o stage1/OOMake@EXEEXT@ stage1/Find.o stage1/gcc.o stage1/Make.o stage1/Main.o stage1/Parse.o stage1/Util.o stage1/Xml.o
	
stage1/Find.o : $(SRC_DIR)/Find.cpp $(SRC_DIR)/Main.h
	$(CXX) $(CXXFLAGS) $(DEFS) -I. -c $(SRC_DIR)/Find.cpp -o stage1/Find.o
	
stage1/gcc.o : $(SRC_DIR)/gcc.cpp $(SRC_DIR)/Main.h $(SRC_DIR)/Make.h
	$(CXX) $(CXXFLAGS) $(DEFS) -I. -c $(SRC_DIR)/gcc.cpp -o stage1/gcc.o
	
stage1/Make.o : $(SRC_DIR)/Make.cpp $(SRC_DIR)/Main.h $(SRC_DIR)/Make.h
	$(CXX) $(CXXFLAGS) $(DEFS) -I. -c $(SRC_DIR)/Make.cpp -o stage1/Make.o
	
stage1/Main.o : $(SRC_DIR)/Main.cpp $(SRC_DIR)/Main.h
	$(CXX) $(CXXFLAGS) $(DEFS) -I. -c $(SRC_DIR)/Main.cpp -o stage1/Main.o
	
stage1/Parse.o : $(SRC_DIR)/Parse.cpp $(SRC_DIR)/Main.h
	$(CXX) $(CXXFLAGS) $(DEFS) -I. -c $(SRC_DIR)/Parse.cpp -o stage1/Parse.o
	
stage1/Util.o : $(SRC_DIR)/Util.cpp $(SRC_DIR)/Main.h
	$(CXX) $(CXXFLAGS) $(DEFS) -I. -c $(SRC_DIR)/Util.cpp -o stage1/Util.o
	
stage1/Xml.o : $(SRC_DIR)/Xml.cpp $(SRC_DIR)/Main.h
	$(CXX) $(CXXFLAGS) $(DEFS) -I. -c $(SRC_DIR)/Xml.cpp -o stage1/Xml.o
	
$(SRC_DIR)/Main.h : $(SRC_DIR)/Xml.h $(SRC_DIR)/Util.h $(SRC_DIR)/Parse.h $(SRC_DIR)/Find.h $(SRC_DIR)/Util.h autoconf.h
	
@top_builddir@/bin/OOMake-staged@EXEEXT@ : stage1/OOMake@EXEEXT@ $(SRC_DIR)/OOMake.xml
	@stage1/OOMake@EXEEXT@ @ac_configure_args@ -f $(SRC_DIR)/OOMake.xml
	
clean : 
	@test ! -f stage1/OOMake@EXEEXT@ || stage1/OOMake@EXEEXT@ @ac_configure_args@ -f $(SRC_DIR)/OOMake.xml --clean
	@-rm -f -v stage1/OOMake@EXEEXT@
	@-rm -f -v stage1/*.@OBJEXT@

all : clean OOMake
